<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/lucide-static@0.321.0/dist/lucide-static.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='auth/layouts/css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='auth/layouts/css/style.css') }}">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        custom: {
                            'sage': '#646C58',
                            'sage-dark': '#4A513F'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <aside class="w-64 fixed h-full transition-all duration-300 ease-in-out" style="background: linear-gradient(180deg, #646C58 0%, #4A513F 100%)">
            <div class="flex flex-col h-full">
                <!-- Logo Section -->
                <div class="p-6 border-b border-white/10">
                    <h2 class="text-xl font-bold text-white">TelAfric</h2>
                </div>

                <!-- Navigation Section -->
                <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
                    <a href="{{ url_for('telafric.dashboard') }}" class="flex items-center space-x-3 p-3 rounded-lg text-white/90 hover:bg-white/10 transition-all duration-200 group">
                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 text-white group-hover:bg-white/20">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
                        </div>
                        <span class="font-medium">Dashboard</span>
                    </a>

                    <a href="{{ url_for('telafric.view_call_logs') }}" class="flex items-center space-x-3 p-3 rounded-lg text-white/90 hover:bg-white/10 transition-all duration-200 group">
                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 text-white group-hover:bg-white/20">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone-call"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        </div>
                        <span class="font-medium">Call Logs</span>
                    </a>

                    <a href="{{ url_for('telafric.view_payments') }}" class="flex items-center space-x-3 p-3 rounded-lg text-white/90 hover:bg-white/10 transition-all duration-200 group">
                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 text-white group-hover:bg-white/20">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-credit-card"><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></svg>
                        </div>
                        <span class="font-medium">Payments</span>
                    </a>

                    <a href="{{ url_for('telafric.view_rates') }}" class="flex items-center space-x-3 p-3 rounded-lg text-white/90 hover:bg-white/10 transition-all duration-200 group">
                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 text-white group-hover:bg-white/20">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
                        </div>
                        <span class="font-medium">Rates</span>
                    </a>

                    <a href="{{ url_for('users.account') }}" class="flex items-center space-x-3 p-3 rounded-lg text-white/90 hover:bg-white/10 transition-all duration-200 group">
                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 text-white group-hover:bg-white/20">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-credit-card"><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></svg>
                        </div>
                        <span class="font-medium">Profile</span>
                    </a>
                </nav>

                <!-- Bottom Section -->
                <div class="p-4 border-t border-white/10">
                    <a href="{{ url_for('users.logout') }}" class="flex items-center space-x-3 p-3 rounded-lg text-white/90 hover:bg-white/10 transition-all duration-200 group">
                        <div class="flex items-center justify-center w-8 h-8 rounded-lg bg-white/10 text-white group-hover:bg-white/20">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16 17 21 12 16 7"/>
                                <line x1="21" y1="12" x2="9" y2="12"/>
                            </svg>
                        </div>
                        <span class="font-medium">Logout</span>
                    </a>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 ml-64 p-8">
            {% block content %}
            {% endblock %}
        </main>
    </div>

    <script>
        // Highlight active link based on current URL
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            const links = document.querySelectorAll('aside a');
            
            links.forEach(link => {
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('bg-white/20');
                    link.querySelector('div').classList.add('bg-white/30');
                }
            });
        });
    </script>
</body>
</html>